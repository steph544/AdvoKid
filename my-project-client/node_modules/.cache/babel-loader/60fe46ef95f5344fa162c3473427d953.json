{"ast":null,"code":"var _jsxFileName = \"/Users/stephaniecheney/Development/code/Mod5FinalProject/my-project-client/src/Login.js\";\nimport React, { Component } from 'react'; // import {\n//     Button,\n//     Form,\n//     Grid,\n//     Message,\n//     Segment,\n//   } from 'semantic-ui-react';\n\nimport { NavLink, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nfunction Login({\n  users\n}) {\n  handleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  logIn = e => {\n    e.preventDefault();\n    fetch(\"http://localhost:3000/api/v1/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        username: this.state.username,\n        password: this.state.password\n      })\n    }).then(res => res.json()).then(userInfo => {\n      console.log(userInfo);\n      localStorage.token = userInfo.token;\n      localStorage.user = this.state.username;\n      this.props.history.push(\"/profile\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, users.map(user => user));\n}\n\nconst mapStateToProps = state => ({\n  users: state.users\n});\n\nexport default connect(mapStateToProps)(Login);","map":{"version":3,"sources":["/Users/stephaniecheney/Development/code/Mod5FinalProject/my-project-client/src/Login.js"],"names":["React","Component","NavLink","withRouter","connect","Login","users","handleChange","e","setState","target","name","value","logIn","preventDefault","fetch","method","headers","body","JSON","stringify","username","state","password","then","res","json","userInfo","console","log","localStorage","token","user","props","history","push","map","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACE,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,kBAApC;AACA,SAAQC,OAAR,QAAsB,aAAtB;;AAGF,SAASC,KAAT,CAAe;AAACC,EAAAA;AAAD,CAAf,EAAuB;AAEnBC,EAAAA,YAAY,GAAIC,CAAD,IAAO;AAClB,SAAKC,QAAL,CAAc;AACV,OAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AADhB,KAAd;AAGH,GAJD;;AAMAC,EAAAA,KAAK,GAAIL,CAAD,IAAO;AACXA,IAAAA,CAAC,CAACM,cAAF;AAGAC,IAAAA,KAAK,CAAC,oCAAD,EAAuC;AACxCC,MAAAA,MAAM,EAAE,MADgC;AAExCC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAF+B;AAKxCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,QAAAA,QAAQ,EAAE,KAAKC,KAAL,CAAWD,QADJ;AAEjBE,QAAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC;AAFJ,OAAf;AALkC,KAAvC,CAAL,CAUCC,IAVD,CAUMC,GAAG,IAAKA,GAAG,CAACC,IAAJ,EAVd,EAWCF,IAXD,CAWMG,QAAQ,IACV;AACIC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACJG,MAAAA,YAAY,CAACC,KAAb,GAAqBJ,QAAQ,CAACI,KAA9B;AACAD,MAAAA,YAAY,CAACE,IAAb,GAAoB,KAAKV,KAAL,CAAWD,QAA/B;AAEA,WAAKY,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;AACH,KAlBD;AAqBH,GAzBD;;AA4BA,sBAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK7B,KAAK,CAAC8B,GAAN,CAAUJ,IAAI,IACPA,IADP,CADL,CAFA;AASH;;AAED,MAAMK,eAAe,GAACf,KAAK,KAAG;AAC1BhB,EAAAA,KAAK,EAAEgB,KAAK,CAAChB;AADa,CAAH,CAA3B;;AAGA,eAAeF,OAAO,CAACiC,eAAD,CAAP,CAAyBhC,KAAzB,CAAf","sourcesContent":["import React, {Component} from 'react'\n// import {\n//     Button,\n//     Form,\n//     Grid,\n//     Message,\n//     Segment,\n//   } from 'semantic-ui-react';\n  import { NavLink, withRouter } from 'react-router-dom';\n  import {connect} from 'react-redux'\n\n\nfunction Login({users}){\n\n    handleChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    logIn = (e) => {\n        e.preventDefault()\n        \n\n        fetch(\"http://localhost:3000/api/v1/login\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                username: this.state.username,\n                password: this.state.password\n            })\n        })\n        .then(res =>  res.json())\n        .then(userInfo => \n            {\n                console.log(userInfo)\n            localStorage.token = userInfo.token \n            localStorage.user = this.state.username \n            \n            this.props.history.push(\"/profile\") \n        }\n        )\n        \n    }\n   \n\n    return(\n      \n    <h1>\n        {users.map(user => \n                user\n            ) }\n    </h1>        \n    )\n    \n}\n\nconst mapStateToProps=state=>({\n    users: state.users\n})\nexport default connect(mapStateToProps)(Login)\n\n"]},"metadata":{},"sourceType":"module"}